<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"><meta property="og:title" content="FAQ" />
<meta property="og:description" content="Frequently Asked Questions How can I quickly check for problems with chezmoi on my machine? Run:
chezmoi doctor  Anything ok is fine, anything warning is only a problem if you want to use the related feature, and anything error indicates a definite problem.
What are the consequences of &ldquo;bare&rdquo; modifications to the target files? If my .zshrc is managed by chezmoi and I edit ~/.zshrc without using chezmoi edit, what happens?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chezmoi.io/docs/faq/" />

<title>FAQ | chezmoi.io</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/book.min.a8b61185b89b0e211122339c7efd1c8edaa4ad4c0ae65f0074e99a4b31c1e393.css" integrity="sha256-qLYRhbibDiERIjOcfv0cjtqkrUwK5l8AdOmaSzHB45M=">


<script defer src="/search.min.5e7633cb531a1fef93769db58b423bbb2116e59c7fe3e694956f63cd6b9fb844.js" integrity="sha256-XnYzy1MaH&#43;&#43;Tdp21i0I7uyEW5Zx/4&#43;aUlW9jzWufuEQ="></script>

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://chezmoi.io/"><img src="/logo-144px.svg" alt="Logo" /><span>chezmoi.io</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" placeholder="Search" id="book-search-input" maxlength="64" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>





    <ul>
<li><a href="/docs/install/">Install</a></li>
<li><a href="/docs/quick-start/">Quick Start</a></li>
<li><a href="/docs/how-to/">How-To</a></li>
<li><a href="/docs/faq/"class=active>FAQ</a></li>
<li><a href="/docs/changes/">Changes</a></li>
<li><a href="/docs/reference/">Reference</a></li>
<li><a href="/docs/contributing/">Contributing</a></li>
<li><a href="https://github.com/twpayne/chezmoi">GitHub</a></li>
</ul>





</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/svg/menu.svg" alt="Menu" />
  </label>
  <strong>FAQ</strong>
</header>

      
<article class="markdown"><h1 id="frequently-asked-questions">Frequently Asked Questions</h1>
<h2 id="how-can-i-quickly-check-for-problems-with-chezmoi-on-my-machine">How can I quickly check for problems with chezmoi on my machine?</h2>
<p>Run:</p>
<pre><code>chezmoi doctor
</code></pre>
<p>Anything <code>ok</code> is fine, anything <code>warning</code> is only a problem if you want to use
the related feature, and anything <code>error</code> indicates a definite problem.</p>
<h2 id="what-are-the-consequences-of-bare-modifications-to-the-target-files-if-my-zshrc-is-managed-by-chezmoi-and-i-edit-zshrc-without-using-chezmoi-edit-what-happens">What are the consequences of &ldquo;bare&rdquo; modifications to the target files? If my <code>.zshrc</code> is managed by chezmoi and I edit <code>~/.zshrc</code> without using <code>chezmoi edit</code>, what happens?</h2>
<p>chezmoi will overwrite the file the next time you run <code>chezmoi apply</code>. Until you
run <code>chezmoi apply</code> your modified <code>~/.zshrc</code> will remain in place.</p>
<h2 id="how-can-i-tell-what-dotfiles-in-my-home-directory-arent-managed-by-chezmoi-is-there-an-easy-way-to-have-chezmoi-manage-a-subset-of-them">How can I tell what dotfiles in my home directory aren&rsquo;t managed by chezmoi? Is there an easy way to have chezmoi manage a subset of them?</h2>
<p><code>chezmoi unmanaged</code> will list everything not managed by chezmoi. You can add
entire directories with <code>chezmoi add -r</code>.</p>
<h2 id="if-theres-a-mechanism-in-place-for-the-above-is-there-also-a-way-to-tell-chezmoi-to-ignore-specific-files-or-groups-of-files-eg-by-directory-name-or-by-glob">If there&rsquo;s a mechanism in place for the above, is there also a way to tell chezmoi to ignore specific files or groups of files (e.g. by directory name or by glob)?</h2>
<p>By default, chezmoi ignores everything that you haven&rsquo;t explicitly <code>chezmoi add</code>'ed. If have files in your source directory that you don&rsquo;t want added to
your destination directory when you run <code>chezmoi apply</code> add their names to a
file called <code>.chezmoiignore</code> in the source state.</p>
<p>Patterns are supported, and the you can change what&rsquo;s ignored from machine to
machine. The full usage and syntax is described in the <a href="/docs/reference/#chezmoiignore">reference
manual</a>.</p>
<h2 id="if-the-target-already-exists-but-is-behind-the-source-can-chezmoi-be-configured-to-preserve-the-target-version-before-replacing-it-with-one-derived-from-the-source">If the target already exists, but is &ldquo;behind&rdquo; the source, can chezmoi be configured to preserve the target version before replacing it with one derived from the source?</h2>
<p>Yes. Run <code>chezmoi add</code> will update the source state with the target. To see
diffs of what would change, without actually changing anything, use <code>chezmoi diff</code>.</p>
<h2 id="once-ive-made-a-change-to-the-source-directory-how-do-i-commit-it">Once I&rsquo;ve made a change to the source directory, how do I commit it?</h2>
<p>You have several options:</p>
<ul>
<li>
<p><code>chezmoi cd</code> opens a shell in the source directory, where you can run your
usual version control commands, like <code>git add</code> and <code>git commit</code>.</p>
</li>
<li>
<p><code>chezmoi git</code> <em>arguments</em> and <code>chezmoi hg</code> <em>arguments</em> run <code>git</code> and <code>hg</code>
respectively in the source directory with <em>arguments</em>, for example <code>chezmoi git add .</code>. If you&rsquo;re passing any flags, you&rsquo;ll need to use <code>--</code> to prevent
chezmoi from consuming them, for example <code>chezmoi git -- commit -m &quot;Update dotfiles&quot;</code>.</p>
</li>
<li>
<p><code>chezmoi source</code> <em>arguments</em> runs your configured version control system in
your source directory. It works in the same was as the <code>chezmoi git</code> and
<code>chezmoi hg</code> commands.</p>
</li>
<li>
<p>chezmoi has experimental support for automatically committing and pushing
changes to your git repo whenever you run a command. See the &ldquo;Explore
experimental features&rdquo; section in the how-to for more information.</p>
</li>
</ul>
<h2 id="how-do-i-only-run-a-script-when-a-file-has-changed">How do I only run a script when a file has changed?</h2>
<p>A common example of this is that you&rsquo;re using <a href="https://brew.sh/">Homebrew</a> and
have <code>.Brewfile</code> listing all the packages that you want installed and only want
to run <code>brew bundle --global</code> when the contents of <code>.Brewfile</code> changes.</p>
<p>chezmoi has two types of scripts: scripts that run every time, and scripts that
only run when their contents change. chezmoi does not have a mechanism to run a
script when an arbitrary file has changed, but there are some ways to achieve
the desired behavior:</p>
<ol>
<li>
<p>Have the script create <code>.Brewfile</code> instead of chezmoi, e.g. in your
<code>run_once_install-packages</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#75715e">#!/bin/sh
</span><span style="color:#75715e"></span>
cat &gt; $HOME/.Brewfile <span style="color:#e6db74">&lt;&lt;EOF
</span><span style="color:#e6db74">brew &#34;imagemagick&#34;
</span><span style="color:#e6db74">brew &#34;openssl&#34;
</span><span style="color:#e6db74">EOF</span>

brew bundle --global
</code></pre></div></li>
<li>
<p>Don&rsquo;t use <code>.Brewfile</code>, and instead install the packages explicitly in
<code>run_once_install-packages</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#75715e">#!/bin/sh
</span><span style="color:#75715e"></span>
brew install imagemagick <span style="color:#f92672">||</span> true
brew install openssl <span style="color:#f92672">||</span> true
</code></pre></div><p>The <code>|| true</code> is necessary because <code>brew install</code> exits with failure if the
package is already installed.</p>
</li>
<li>
<p>Use a script that runs every time (not just once) and rely on <code>brew bundle --global</code> being idempotent.</p>
</li>
<li>
<p>Use a script that runs every time, records a checksum of <code>.Brewfile</code> in
another file, and only runs <code>brew bundle --global</code> if the checksum has
changed, and updates the recorded checksum after.</p>
</li>
</ol>
<h2 id="ive-made-changes-to-both-the-destination-state-and-the-source-state-that-i-want-to-keep-how-can-i-keep-them-both">I&rsquo;ve made changes to both the destination state and the source state that I want to keep. How can I keep them both?</h2>
<p><code>chezmoi merge</code> will open a merge tool to resolve differences between the source
state, target state, and destination state. Copy the changes you want to keep in
to the source state.</p>
<h2 id="chezmois-source-file-naming-system-cannot-handle-all-possible-filenames">chezmoi&rsquo;s source file naming system cannot handle all possible filenames</h2>
<p>This is correct. Certain target filenames, for example <code>~/dot_example</code>, are
incompatible with chezmoi&rsquo;s
<a href="/docs/reference/#source-state-attributes">attributes</a>
used in the source state.</p>
<p>This is a deliberate, practical compromise. Target state metadata (private,
encrypted, etc.) need to be stored for each file. Using the source state
filename for this means that the contents of the file are untouched, there is no
need to maintain the metadata in a separate file, is independent of the
underlying filesystem and version control system, and unambiguously associates
the metadata with a single file.</p>
<p>In practice, dotfile filenames are unlikely to conflict with chezmoi&rsquo;s
attributes. If this does cause a genuine problem for you, please <a href="https://github.com/twpayne/chezmoi/issues/new/choose">open an
issue on GitHub</a>.</p>
<h2 id="gpg-encryption-fails-what-could-be-wrong">gpg encryption fails. What could be wrong?</h2>
<p>The <code>gpg.recipient</code> key should be ultimately trusted, otherwise encryption will
fail because gpg will prompt for input, which chezmoi does not handle. You can
check the trust level by running:</p>
<pre><code>gpg --export-ownertrust
</code></pre>
<p>The trust level for the recipient&rsquo;s key should be <code>6</code>. If it is not, you can
change the trust level by running:</p>
<pre><code>gpg --edit-key $recipient
</code></pre>
<p>Enter <code>trust</code> at the prompt and chose <code>5 = I trust ultimately</code>.</p>
<h2 id="im-getting-errors-trying-to-build-chezmoi-from-source">I&rsquo;m getting errors trying to build chezmoi from source</h2>
<p>chezmoi requires Go version 1.13 or later and Go modules enabled. You can check
the version of Go with:</p>
<pre><code>go version
</code></pre>
<p>Enable Go modules by setting <code>GO111MODULE=on</code> when running <code>go get</code>:</p>
<pre><code>GO111MODULE=on go get -u github.com/twpayne/chezmoi
</code></pre>
<p>For more details on building chezmoi, see the <a href="CONTRIBUTING.md">Contributing
Guide</a>.</p>
<h2 id="what-inspired-chezmoi">What inspired chezmoi?</h2>
<p>chezmoi was inspired by <a href="https://puppet.com/">Puppet</a>, but created because
Puppet is a slow overkill for managing your personal configuration files. The
focus of chezmoi will always be personal home directory management. If your
needs grow beyond that, switch to a whole system configuration management tool.</p>
<h2 id="can-i-use-chezmoi-outside-my-home-directory">Can I use chezmoi outside my home directory?</h2>
<p>chezmoi, by default, operates on your home directory, but this can be overridden
with the <code>--destination</code> command line flag or by specifying <code>destDir</code> in your config
file. In theory, you could use chezmoi to manage any aspect of your filesystem.
That said, although you can do this, you probably shouldn&rsquo;t. Existing
configuration management tools like <a href="https://puppet.com/">Puppet</a>,
<a href="https://www.chef.io/chef/">Chef</a>, <a href="https://www.ansible.com/">Ansible</a>, and
<a href="https://www.saltstack.com/">Salt</a> are much better suited to whole system
configuration management.</p>
<h2 id="where-does-the-name-chezmoi-come-from">Where does the name &ldquo;chezmoi&rdquo; come from?</h2>
<p>&ldquo;chezmoi&rdquo; splits to &ldquo;chez moi&rdquo; and pronounced /ʃeɪ mwa/ (shay-moi) meaning &ldquo;at
my house&rdquo; in French. It&rsquo;s seven letters long, which is an appropriate length for
a command that is only run occasionally.</p>
<h2 id="what-other-questions-have-been-asked-about-chezmoi">What other questions have been asked about chezmoi?</h2>
<p>See the <a href="https://github.com/twpayne/chezmoi/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+sort%3Aupdated-desc+label%3Asupport">issues on
GitHub</a>.</p>
<h2 id="where-do-i-ask-a-question-that-isnt-answered-here">Where do I ask a question that isn&rsquo;t answered here?</h2>
<p>Please <a href="https://github.com/twpayne/chezmoi/issues/new/choose">open an issue on GitHub</a>.</p>
<h2 id="i-like-chezmoi-how-do-i-say-thanks">I like chezmoi. How do I say thanks?</h2>
<p>Thank you! chezmoi was written to scratch a personal itch, and I&rsquo;m very happy
that it&rsquo;s useful to you. Please give <a href="https://github.com/twpayne/chezmoi/stargazers">chezmoi a star on
GitHub</a>, and if you&rsquo;re happy to
share your public dotfile repo then <a href="https://github.com/topics/chezmoi">tag it with
<code>chezmoi</code></a>. <a href="/docs/contributing/">Contributions are very
welcome</a>
and every <a href="https://github.com/twpayne/chezmoi/issues/new/choose">bug report, support request, and feature
request</a> helps make
chezmoi better. Thank you :)</p>
</article>

      

      
    </div>

    
  

  <aside class="book-toc levels-3 fixed">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#how-can-i-quickly-check-for-problems-with-chezmoi-on-my-machine">How can I quickly check for problems with chezmoi on my machine?</a></li>
    <li><a href="#what-are-the-consequences-of-bare-modifications-to-the-target-files-if-my-zshrc-is-managed-by-chezmoi-and-i-edit-zshrc-without-using-chezmoi-edit-what-happens">What are the consequences of &ldquo;bare&rdquo; modifications to the target files? If my <code>.zshrc</code> is managed by chezmoi and I edit <code>~/.zshrc</code> without using <code>chezmoi edit</code>, what happens?</a></li>
    <li><a href="#how-can-i-tell-what-dotfiles-in-my-home-directory-arent-managed-by-chezmoi-is-there-an-easy-way-to-have-chezmoi-manage-a-subset-of-them">How can I tell what dotfiles in my home directory aren&rsquo;t managed by chezmoi? Is there an easy way to have chezmoi manage a subset of them?</a></li>
    <li><a href="#if-theres-a-mechanism-in-place-for-the-above-is-there-also-a-way-to-tell-chezmoi-to-ignore-specific-files-or-groups-of-files-eg-by-directory-name-or-by-glob">If there&rsquo;s a mechanism in place for the above, is there also a way to tell chezmoi to ignore specific files or groups of files (e.g. by directory name or by glob)?</a></li>
    <li><a href="#if-the-target-already-exists-but-is-behind-the-source-can-chezmoi-be-configured-to-preserve-the-target-version-before-replacing-it-with-one-derived-from-the-source">If the target already exists, but is &ldquo;behind&rdquo; the source, can chezmoi be configured to preserve the target version before replacing it with one derived from the source?</a></li>
    <li><a href="#once-ive-made-a-change-to-the-source-directory-how-do-i-commit-it">Once I&rsquo;ve made a change to the source directory, how do I commit it?</a></li>
    <li><a href="#how-do-i-only-run-a-script-when-a-file-has-changed">How do I only run a script when a file has changed?</a></li>
    <li><a href="#ive-made-changes-to-both-the-destination-state-and-the-source-state-that-i-want-to-keep-how-can-i-keep-them-both">I&rsquo;ve made changes to both the destination state and the source state that I want to keep. How can I keep them both?</a></li>
    <li><a href="#chezmois-source-file-naming-system-cannot-handle-all-possible-filenames">chezmoi&rsquo;s source file naming system cannot handle all possible filenames</a></li>
    <li><a href="#gpg-encryption-fails-what-could-be-wrong">gpg encryption fails. What could be wrong?</a></li>
    <li><a href="#im-getting-errors-trying-to-build-chezmoi-from-source">I&rsquo;m getting errors trying to build chezmoi from source</a></li>
    <li><a href="#what-inspired-chezmoi">What inspired chezmoi?</a></li>
    <li><a href="#can-i-use-chezmoi-outside-my-home-directory">Can I use chezmoi outside my home directory?</a></li>
    <li><a href="#where-does-the-name-chezmoi-come-from">Where does the name &ldquo;chezmoi&rdquo; come from?</a></li>
    <li><a href="#what-other-questions-have-been-asked-about-chezmoi">What other questions have been asked about chezmoi?</a></li>
    <li><a href="#where-do-i-ask-a-question-that-isnt-answered-here">Where do I ask a question that isn&rsquo;t answered here?</a></li>
    <li><a href="#i-like-chezmoi-how-do-i-say-thanks">I like chezmoi. How do I say thanks?</a></li>
  </ul>
</nav>
  </aside>



  </main>

  
</body>

</html>
