<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"><meta property="og:title" content="Contributing" />
<meta property="og:description" content="Contributing Guide  Getting started Developing locally Contributing changes Managing releases Packaging  Getting started chezmoi is written in Go and development happens on GitHub. The rest of this document assumes that you&rsquo;ve checked out chezmoi locally.
Developing locally chezmoi is a standard Go project, using standard Go tooling, with a few extra tools. Install these extra tools with:
make install-tools  Build chezmoi:
go build .  Run all tests:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://chezmoi.io/docs/contributing/" />

<title>Contributing | chezmoi.io</title>
<link rel="icon" href="/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/book.min.dcb5f88ae9cbea1ffe9da7a510c09e799304f04d2a33302b20bf31dedb3b7778.css" integrity="sha256-3LX4iunL6h/&#43;naelEMCeeZME8E0qMzArIL8x3ts7d3g=">


<script defer src="/search.min.b11d29ed77393b529840ba10df814608a6e11287f6646e3f54af7135bcbc3a83.js" integrity="sha256-sR0p7Xc5O1KYQLoQ34FGCKbhEof2ZG4/VK9xNby8OoM="></script>

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://chezmoi.io/"><img src="/logo-144px.svg" alt="Logo" /><span>chezmoi.io</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" placeholder="Search" id="book-search-input" maxlength="64" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>





    <ul>
<li><a href="/docs/install/">Install</a></li>
<li><a href="/docs/quick-start/">Quick Start</a></li>
<li><a href="/docs/how-to/">How-To</a></li>
<li><a href="/docs/faq/">FAQ</a></li>
<li><a href="/docs/changes/">Changes</a></li>
<li><a href="/docs/reference/">Reference</a></li>
<li><a href="/docs/contributing/"class=active>Contributing</a></li>
<li><a href="https://github.com/twpayne/chezmoi">GitHub</a></li>
</ul>





</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/svg/menu.svg" alt="Menu" />
  </label>
  <strong>Contributing</strong>
</header>

      
<article class="markdown">

<h1 id="contributing-guide">Contributing Guide</h1>

<ul>
<li><a href="#getting-started">Getting started</a></li>
<li><a href="#developing-locally">Developing locally</a></li>
<li><a href="#contributing-changes">Contributing changes</a></li>
<li><a href="#managing-releases">Managing releases</a></li>
<li><a href="#packaging">Packaging</a></li>
</ul>

<h2 id="getting-started">Getting started</h2>

<p>chezmoi is written in <a href="https://golang.org">Go</a> and development happens on
<a href="https://github.com">GitHub</a>. The rest of this document assumes that you&rsquo;ve
checked out chezmoi locally.</p>

<h2 id="developing-locally">Developing locally</h2>

<p>chezmoi is a standard Go project, using standard Go tooling, with a few extra
tools. Install these extra tools with:</p>

<pre><code>make install-tools
</code></pre>

<p>Build chezmoi:</p>

<pre><code>go build .
</code></pre>

<p>Run all tests:</p>

<pre><code>go test ./...
</code></pre>

<p>Run chezmoi:</p>

<pre><code>go run .
</code></pre>

<h2 id="contributing-changes">Contributing changes</h2>

<p>Bug reports, bug fixes, and documentation improvements are always welcome.
Please <a href="https://github.com/twpayne/chezmoi/issues/new">open an issue</a> or <a href="https://help.github.com/en/articles/creating-a-pull-request">create
a pull request</a>
with your report, fix, or improvement.</p>

<p>If you want to make a more significant change, please first <a href="https://github.com/twpayne/chezmoi/issues/new">open an
issue</a> to discuss the change that
you want to make. Dave Cheney gives a <a href="https://dave.cheney.net/2019/02/18/talk-then-code">good
rationale</a> as to why this is
important.</p>

<p>All changes are made via pull requests. In your pull request, please make sure
that:</p>

<ul>
<li><p>All existing tests pass.</p></li>

<li><p>There are appropriate additional tests that demonstrate that your PR works as
intended.</p></li>

<li><p>The documentation is updated, if necessary. For new features you should add an
entry in <code>docs/HOWTO.md</code> and a complete description in <code>docs/REFERENCE.md</code>.</p></li>

<li><p>The code is correctly formatted, according to
<a href="https://mvdan.cc/gofumpt/gofumports">gofumports</a>. You can ensure this by
running <code>make format</code>.</p></li>

<li><p>The code passes <a href="https://golang.org/cmd/vet/"><code>go vet</code></a> and
<a href="https://github.com/golangci/golangci-lint"><code>golangci-lint</code></a>. You can ensure
this by running <code>make lint</code>.</p></li>

<li><p>The commit messages match chezmoi&rsquo;s convention, specifically that they begin
with a capitalized verb in the imperative and give a short description of what
the commit does. Detailed information or justification can be optionally
included in the body of the commit message.</p></li>

<li><p>Commits are logically separate, with no merge or &ldquo;fixup&rdquo; commits.</p></li>

<li><p>The branch applies cleanly to <code>master</code>.</p></li>
</ul>

<h2 id="managing-releases">Managing releases</h2>

<p>Releases are managed with <a href="https://goreleaser.com/">goreleaser</a>.</p>

<p>To create a new release, push a tag, eg:</p>

<pre><code>git tag -a v0.1.0 -m &quot;First release&quot;
git push origin v0.1.0
</code></pre>

<p>To run a local &ldquo;snapshot&rdquo; build without publishing:</p>

<pre><code>make test-release
</code></pre>

<h2 id="packaging">Packaging</h2>

<p>If you plan to package chezmoi for your distibution, then note:</p>

<ul>
<li><p>Please set the version number, git commit, and build time in the binary. This is done by passing the linker flags:</p>

<pre><code>-X github.com/twpayne/chezmoi/cmd.VersionStr={{ .Version }}
-X github.com/twpayne/chezmoi/cmd.Commit={{ .Commit }}
-X github.com/twpayne/chezmoi/cmd.Date={{ .Date }}
</code></pre></li>

<li><p>Please enable CGO, if possible. chezmoi can be built and run without CGO, but
the <code>.chezmoi.group</code> template variable may not be set on some systems.</p></li>

<li><p>chezmoi includes a <code>docs</code> command which prints its documentation. By default,
the docs are embedded in the binary. You can disable this behaviour, and have
chezmoi read its docs from the filesystem by building with the <code>noembeddocs</code>
build tag and setting the directory where chezmoi can find them with the <code>-X
github.com/twpayne/chezmoi/cmd.DocDir={{ .PathToDocs }}</code> linker flag. For
example:</p>

<pre><code>go build -tags noembeddocs -ldflags &quot;-X github.com/twpayne/chezmoi/cmd.DocsDir=/usr/share/doc/chezmoi&quot; .
</code></pre></li>
</ul>

<p>To disable the <code>docs</code> command completely, use the <code>nodocs</code> build tag.</p>

<ul>
<li><p>chezmoi includes an <code>upgrade</code> command which attempts to self-upgrade. You can
remove this command completely by building chezmoi with the <code>noupgrade</code> build
tag.</p></li>

<li><p>chezmoi includes shell completions in the <code>completions</code> directory. Please
include these in the package and install them in the shell-appropriate
directory, if possible.</p></li>
</ul>
</article>

      

      
    </div>

    
  

  <aside class="book-toc levels-3 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#contributing-guide">Contributing Guide</a>
<ul>
<li><a href="#getting-started">Getting started</a></li>
<li><a href="#developing-locally">Developing locally</a></li>
<li><a href="#contributing-changes">Contributing changes</a></li>
<li><a href="#managing-releases">Managing releases</a></li>
<li><a href="#packaging">Packaging</a></li>
</ul></li>
</ul>
</nav>
  </aside>



  </main>

  
</body>

</html>
